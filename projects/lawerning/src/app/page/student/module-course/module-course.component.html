<div class="container-fluid">
  <div class="row">
    <div class="header-module col-lg-12">
      <div class="d-flex flex-column mb-4 text-center mt-4">
        <h1>{{ modules.name }}</h1>
        <div class="d-flex justify-content-center my-3">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="50"
            height="50"
            fill="currentColor"
            class="icon bi bi-journal-bookmark-fill"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M6 1h6v7a.5.5 0 0 1-.757.429L9 7.083 6.757 8.43A.5.5 0 0 1 6 8V1z"
            />
            <path
              d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"
            />
            <path
              d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"
            />
          </svg>
        </div>

        <div class="d-flex justify-content-center">
          <div class="col-lg-12">
            <p>
              {{ modules.description }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container my-4">
  <div class="row">
    <div class="col-lg-12">
      <h5 *ngIf="countTemp == total" class="text-info">
        Completed: {{ countTemp }} of {{ total }} Modules
      </h5>
      <h5 *ngIf="countTemp < total" class="text-info">
        Progress: {{ countTemp }} of {{ total }} Modules
      </h5>
      <p-progressBar [value]="value" class="progress-body"></p-progressBar>
    </div>
  </div>
</div>
<div class="body-module container mt-5">
  <div class="row">
    <div class="col-lg-12 mt-1">
      <div class="d-flex justify-content-between">
        <h3>Module</h3>
        <a class="download mr-3">
          <!-- <button class="btn btn-sm btn-secondary"> -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-download"
            viewBox="0 0 16 16"
          >
            <path
              d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"
            />
            <path
              d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"
            />
          </svg>
          <!-- </button> -->
        </a>
      </div>
      <hr />
      <div
        class="card shadow-sm my-3"
        *ngFor="let m of modules.modules; let i = index"
      >
        <div class="d-flex flex-row">
          <div class="left-content rounded">
            <div class="d-flex flex-column pt-2">
              <h4 class="text-center text-light">
                {{ m.schedule.date | date: "dd" }}
              </h4>
              <h3 class="text-center text-light">
                {{ m.schedule.date | date: "MMM" }}
              </h3>
            </div>
          </div>
          <div class="right-content">
            <div class="d-flex flex-column">
              <div class="d-flex justify-content-start">
                <div class="left">
                  <h4 class="title">
                    {{ m.tittle }}:
                    {{ m.subjectName }}
                  </h4>
                </div>
                <!-- <div class="right m-2"></div> -->
              </div>

              <div class="d-flex justify-content-between">
                <div class="d-flex flex-row">
                  <h6 class="info text-info">
                    <i class="pi pi-clock"></i>
                    {{ m.schedule.startTime.slice(0, 5) }} -
                    {{ m.schedule.endTime.slice(0, 5) }}
                  </h6>
                  <div class="mt-1">
                    <span
                      *ngIf="m.attendanceId != null && m.verifyStatus == true"
                      class="status-badge status-present"
                      >PRESENT</span
                    >
                    <span
                      *ngIf="m.attendanceId == null && m.isAttendance == false"
                      class="status-badge status-absent"
                      >ABSENT</span
                    >
                  </div>
                </div>

                <a
                  *ngIf="m.attendanceId != null && m.verifyStatus == true"
                  (click)="viewForum(i)"
                >
                  <button class="btn-title btn btn-secondary">View</button>
                </a>
                <h6
                  *ngIf="m.attendanceId != null && m.verifyStatus == false"
                  class="process text-warning"
                >
                  Attendance Process
                </h6>
                <button
                  *ngIf="m.attendanceId == null && m.isAttendance == false"
                  class="btn-x btn btn-secondary"
                  disabled
                >
                  Attendance
                </button>
                <a
                  *ngIf="m.attendanceId == null && m.isAttendance == true"
                  (click)="attendanceRequest(m.id)"
                >
                  <button class="btn-title btn btn-secondary">
                    Attendance
                  </button>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- </div> -->
    </div>
  </div>
</div>
